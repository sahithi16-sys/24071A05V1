<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Register</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<nav class="navbar navbar-dark bg-dark">
<div class="container">
<a class="navbar-brand">Shopping Cart</a>
<ul class="navbar-nav flex-row ms-auto">
<li class="nav-item me-3"><a class="nav-link" href="login.html">Login</a></li>
<li class="nav-item me-3"><a class="nav-link active" href="register.html">Register</a></li>
<li class="nav-item me-3"><a class="nav-link" href="catalog.html">Catalog</a></li>
<li class="nav-item"><a class="nav-link" href="cart.html">Cart</a></li>
</ul>
</div>
</nav>

<div class="container mt-4 col-md-6">
<div class="card shadow p-4">

<h4 class="text-center mb-3">User Registration</h4>

<input class="form-control mb-2" placeholder="Full Name">
<input class="form-control mb-2" placeholder="Email">
<input id="user" class="form-control mb-2" placeholder="Username">
<input id="pass" type="password" class="form-control mb-2" placeholder="Password">
<input class="form-control mb-2" placeholder="Phone">
<input class="form-control mb-3" placeholder="Address">

<button class="btn btn-dark w-100" onclick="register()">Register</button>
<p id="m" class="text-center fw-bold mt-2"></p>

</div>
</div>

<script>
function register(){
    let email = document.querySelectorAll("input")[1].value;
    let phone = document.querySelectorAll("input")[4].value;

    if(user.value.trim()==="" || pass.value.trim()===""){
        m.innerText="Username and Password required!";
        m.className="text-danger fw-bold";
        return;
    }

    if(!email.includes("@") || !email.includes(".")){
        m.innerText="Invalid Email Format!";
        m.className="text-danger fw-bold";
        return;
    }  

    if(pass.value.length < 6){
        m.innerText="Password must be at least 6 characters!";
        m.className="text-danger fw-bold";
        return;
    }

    if(isNaN(phone) || phone.length !== 10){
        m.innerText="Invalid Phone Number!";
        m.className="text-danger fw-bold";
        return;
    }
    let users = JSON.parse(localStorage.getItem("users")) || [];

    users.push({
        username: user.value,
        password: pass.value
    });

    localStorage.setItem("users", JSON.stringify(users));

    m.innerText="Registration Successful!";
    m.className="text-success fw-bold";
}
</script>

</body>
</html>